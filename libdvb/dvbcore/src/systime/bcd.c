#include "pvddefs.h"


/******************************************************************************
* Function : bin_to_bcd
*               Change bin to bcd
* Input    :  U32
* Output   : 
* Return   : U32
******************************************************************************/ 
U32 bin_to_bcd (U32 bin)
{
	S32 e1 = 0, e2 = 0, e3 = 0,  e4 = 0, e5 = 0, e6 = 0,e7 = 0, e8 = 0;
 	S32 r1 = 0, r2 = 0, r3 = 0, r4 = 0, r5 = 0, r6 = 0, r7 = 0;
 	U32 rv = 0;
 
	if(bin > 99999999)
		return 0;

	if(e1 > 10000000)
	{	e1 = (bin / 10000000), r1 = bin % 10000000;	}
	else
	{	r1 = bin;	}
	
	if(r1 >1000000)
	{	e2 = r1 / 1000000, r2 = r1 % 1000000;}
	else
	{	r2 = r1;}
	
	if(r2 > 100000)
	{	e3 = r2 / 100000, r3 = r2 % 100000;	}
	else
	{	r3 = r2;	}
	
	if(r3 > 10000)
	{	e4 = r3 / 10000, r4 = r3 % 10000;	}	
	else
	{	r4 = r3;}
	
	if(r4 > 1000)
	{	e5 = r4 / 1000, r5 = r4 % 1000;	}
	else
	{	r5 = r4;	}
	
	if(r5 > 100)
	{	e6 = r5 / 100, r6 = r5 % 100;	}
	else
	{	r6 = r5;	}
	
	if(r6 > 10)
	{	e7 = r6 / 10, r7 = r6 % 10;	}
	else
	{	r7 = r6;	}
	e8 = r7;

	rv = (e1<<28) | (e2<<24) | (e3<<20) | (e4<<16) | (e5<<12) | (e6<<8) | (e7<<4) | e8;
	return rv;
}/*Modify by lsz 2007.08.15*/

/******************************************************************************
* Function : bcd_to_bin
*               Change bcd to bin
* Input    :  U32
* Output   : 
* Return   : U32
******************************************************************************/ 
U32 bcd_to_bin (U32 bcd)
{
	S32   e1 = 0, e2 = 0, e3 = 0,  e4 = 0, e5 = 0, e6 = 0,  e7 = 0, e8 = 0;
	
	e1 = ((bcd & 0xf0000000) >> 28);
	e2 = ((bcd & 0xf000000) >> 24);
	e3 = ((bcd & 0xf00000) >> 20);
	e4 = ((bcd & 0xf0000) >> 16);
	e5 = ((bcd & 0xf000) >> 12);
	e6 = ((bcd & 0xf00) >> 8);
	e7 = ((bcd & 0xf0) >> 4);
	e8 = (bcd & 0xf);
	if(e1 != 0)
	{	e1 = e1 * 10000000;	}
	if(e2 != 0)
	{	e2 = e2 * 1000000;	}
	if(e3 != 0)
	{	e3 = e3 * 100000;	}
	if(e4 != 0)
	{	e4 = e4 * 10000;	}
	if(e5 != 0)
	{	e5 = e5 * 1000;	}
	if(e6 != 0)
	{	e6 = e6 * 100;	}
	if(e7 != 0)
	{	e7 = e7 * 10;	}
	return (e1 + e2 + e3 + e4 + e5 + e6 + e7 + e8);
}/*Modify by lsz 2007.08.15*/



