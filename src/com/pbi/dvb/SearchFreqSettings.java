/* * File Name:  SearchFreqSettings.java * Copyright:  Beijing Jaeger Communication Electronic Technology Co., Ltd. Copyright YYYY-YYYY,  All rights reserved * Descriptions:  <Descriptions> * Changed By:   * Changed Time:  2014-1-9 * Changed Content:  <Changed Content> */package com.pbi.dvb;import android.app.Activity;import android.content.SharedPreferences;import android.content.SharedPreferences.Editor;import android.os.Bundle;import android.text.InputType;import android.view.KeyEvent;import android.view.View;import android.widget.EditText;import com.pbi.dvb.utils.LogUtils;/** * <Functional overview> <Functional Details> *  * @author * @version [Version Number, 2014-1-9] * @see [Relevant Class/Method] * @since [Product/Module Version] */public class SearchFreqSettings extends Activity{    private static final String TAG = "SearchFreqSettings";        private EditText etFreq;        @Override    protected void onCreate(Bundle savedInstanceState)    {        super.onCreate(savedInstanceState);        setContentView(R.layout.search_freq_settings);    }        @Override    protected void onStart()    {        super.onStart();        String mFreq = getMainFrequency();        etFreq = (EditText)this.findViewById(R.id.et_main_frequency);        etFreq.setText(mFreq);        etFreq.setInputType(InputType.TYPE_NULL);        etFreq.setOnKeyListener(new View.OnKeyListener()        {                        @Override            public boolean onKey(View v, int keyCode, KeyEvent event)            {                if (keyCode == KeyEvent.KEYCODE_DPAD_CENTER)                {                    etFreq.setText(null);                }                return false;            }        });    }        @Override    protected void onStop()    {        saveMainFrequency();        super.onStop();    }        private String getMainFrequency()    {        String mainFrequency = getString(R.string.InputFrequencyDefault);        SharedPreferences spSettings = getSharedPreferences("search_settings", 8);        if (null == spSettings)        {            return mainFrequency;        }        return spSettings.getString("main_frequency", mainFrequency);    }        private void saveMainFrequency()    {        Editor edit = getSharedPreferences("search_settings", 8).edit();        edit.putString("main_frequency", etFreq.getText().toString());        edit.commit();        LogUtils.printLog(1, 3, TAG, "--->>> save main frequency success.");    }}